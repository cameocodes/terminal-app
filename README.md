# Challenge Slack Bot
The Challenge Slack Bot is a terminal-based app made to simplify the posting of coding challenges from a database to Slack.

## Table of Contents
* [Features](#features)
* [Getting Started](#getting-started)
* [Usage](#usage)
* [Development](#development)
* [Roadmap](#roadmap)
* [Authors](#authors)

## Features
* Post coding challenges to Slack from the terminal
* Upload single challenges or .csv files to challenge database
* Filter challenges by topic (arrays, loops, methods etc.)
* Preview challenges prior to posting

![picture](img/sample1.gif)

## Getting Started

### Requirements
This app was made using Ruby 2.4.1.
### Installation
Download the *Challenge Slack Bot* and unzip the file to a folder of your choosing. In the terminal navigate to the folder you unzipped to and, once in the directory, type:
```
bundle install
```
This will install the gems required to be able to run *Challenge Slack Bot*.

## Usage
To ensure the *slack-notifier* gem is able to communicate with your Slack Workspace, edit the following line in the *post_to_slack* method at the bottom of *post_challenges.rb* to include the webhook generated by Slack:
```ruby
notifier = Slack::Notifier.new "WEBHOOK_LINK_HERE" 
```

![picture](img/sample2.gif)

## Development

Initial development for the *Challenge Slack Bot* began by creating a single method that would take a code input and post it to the given Slack channel.

![picture](img/concept.jpg)

The next step was to figure out how to upload a file, to be able to use a database to store the challenges and allow users to upload more challenges in bulk. This was done by including the *smarter_csv* gem, but the gem came with its own issues. Using a .csv format file meant that the user couldn't use quotation marks or commas in their entered challenge, as this would break the .csv converter. We mitigated this by asking the user to replace all commas with asterisk (*), and all quotation marks with ampersands(&). These are converted back to commas and quotation marks respectively when the code is printed to the terminal with the use of the string method .gsub as shown below:

```ruby
"#{challenge.gsub("*",",").gsub("&","'")}"
```

Once we had a functional database, we moved on to the methods of filtering and posting challenges. We already had the connection to the Slack API figured out thanks to our simple method we created when we began, so one of our biggest issues was being able to filter the challenges from the array they were stored in.

Challenge topics (loops, arrays etc.) are stored in the array as a series of numbers. We used a case statement to filter the input through to our *find_challenges* method, which would then search through the hashes in the array and return matching values. We then generated a number with Random to choose a challenge from the returned values. Using recursion allowed us to repeat this loop if the user wanted to choose a different challenge from the same result.

Another issue we faced was being able to access the database array in multiple functions. We toyed with creating a Module to contain the array, which according to research would've allowed us to access the array from anywhere in the program. We ended up going with the simpler approach of creating the array in our main function and just passing it as an argument to every method. While it looks a little messy in the code, it allowed our program to be functional until we can study and understand Modules more.



## Roadmap
Future releases to include:
* Editing of challenges in terminal
* Deleting challenges from database in terminal
* Web scraper to get challenges from websites (CodeWars)
* Filter out challenges that have already been posted
* Time delay - set to post the night before
* Automatic substitution for commas and quotation marks in user input

## Authors
* Shunichiro Ida
* Cameo Langford
